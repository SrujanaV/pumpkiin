<div class="container py-5">
    <div class="row ticket-creation-main">
        <div class="col col-md-3 openticketreminder">
            <div class="bg-white border-rounded p-3 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="closed-text">
                        <img src="img/ticketCreation/openTicket.png" ng-click="getOpenTickets()">
                        <div class="notification notification-orange" ng-if="!totalNumberOfOpenTickets">0</div>
                        <div class="notification notification-orange" ng-if="totalNumberOfOpenTickets">{{totalNumberOfOpenTickets}}</div>
                    </div>
                    <div class="closed-text" ng-click="getClosedTickets()" ng-if="totalNumberOfClosedTickets">
                        <img src="img/ticketCreation/closedTicket.png">
                        <div class="notification" ng-if="!totalNumberOfClosedTickets">0</div>
                        <div class="notification" ng-if="totalNumberOfClosedTickets">{{totalNumberOfClosedTickets}}</div>
                    </div>
                    <div class="closed-text" ng-if="!totalNumberOfClosedTickets">
                        <img src="img/ticketCreation/closedTicket.png">
                        <div class="notification" ng-if="!totalNumberOfClosedTickets">0</div>
                        <div class="notification" ng-if="totalNumberOfClosedTickets">{{totalNumberOfClosedTickets}}</div>
                    </div>
                    <div ui-sref="ticketcreation">
                        <img src="img/ticketCreation/addButton.png ">
                    </div>
                </div>
                <div class="my-3 open-tickets ">
                    <h5 class="d-inline">Closed Tickets</h5>
                    <!-- <h5 class="d-inline" ng-show="!show">Open Tickets</h5>
                            <h5 class="d-inline" ng-show="show">closed Tickets</h5> -->
                    <span class="badge badge-style ">{{totalNumberOfTickets}}</span>
                    <div class="float-right custom-searchbar">
                        <form action="" autocomplete="on" class="position-relative">
                            <input id="search" name="search" type="text" placeholder="">
                            <input id="search_submit" value="Rechercher" type="submit">
                        </form>
                    </div>
                </div>
                <div class="border-top listed-openTickets openticket ">
                    <div class="d-flex py-1 element-list " ng-repeat="closeticket in ticketDetails">
                        <div class="bullet "></div>
                        <div class="d-block pl-4">
                            <div class="product-title text-truncate" ui-sref="closedTicketcreation({id: closeticket._id})">{{closeticket.product.productName}}</div>
                            <div class="date ">{{closeticket.product.createdAt | date}}</div>
                        </div>
                    </div>
                </div>
                <div class="text-right  view mt-2" ng-if="ticketDetails[0].status=='Active'" ui-sref='ticketopen-notification'>View All
                    <span class="pl-2 ">
                        <i class="fas fa-caret-right "></i>
                    </span>
                </div>
                <div class="text-right  view mt-2" ng-if="ticketDetails[0].status=='Closed'" ui-sref='ticketclose-notification'>View All
                    <span class="pl-2 ">
                        <i class="fas fa-caret-right "></i>
                    </span>
                </div>
            </div>
            <div class="bg-white border-rounded p-3">
                <div class="d-flex justify-content-between">
                    <div class="closed-text" ng-click="pendingReminders()">
                        <img src="img/header/Notification_circle-icon-orange.png">
                        <div class="notification notification-orange" ng-if="totalPendingReminders">{{totalPendingReminders}}</div>
                        <div class="notification notification-orange" ng-if="!totalPendingReminders">0</div>

                    </div>
                    <div class="closed-text" ng-if="!totalCompletedReminder">
                        <img src="img/ticketCreation/Notification_circle-icon-green.png">
                        <div class="notification" ng-if="totalCompletedReminder">{{totalCompletedReminder}}</div>
                        <div class="notification" ng-if="!totalCompletedReminder">0</div>
                    </div>
                    <div class="closed-text" ng-click="completedReminders()" ng-if="totalCompletedReminder">
                        <img src="img/ticketCreation/Notification_circle-icon-green.png">
                        <div class="notification notification-orange" ng-if="totalCompletedReminder">{{totalCompletedReminder}}</div>
                        <div class="notification notification-orange" ng-if="!totalCompletedReminder">0</div>
                    </div>
                    <div ng-click="reminderModalOpen()">
                        <img src="img/ticketCreation/addButton.png ">
                    </div>
                </div>
                <div class="my-3 open-tickets ">
                    <h5 class="d-inline ">Reminders</h5>
                    <span class="badge badge-style ml-auto">{{totalReminders}}</span>
                    <div class="float-right custom-searchbar">
                        <form action="" autocomplete="on" class="position-relative">
                            <input id="search" name="search" type="text" placeholder="">
                            <input id="search_submit" value="Rechercher" type="submit">
                        </form>
                    </div>
                </div>

                <div class="border-top listed-openTickets openticket ">
                    <div class="d-flex py-1 element-list " ng-repeat="reminders in showLessReminders">
                        <div class="bullet "></div>
                        <div class="d-block pl-4 ">
                            <div class="product-title text-truncate">{{reminders.title}}</div>
                            <div class="date ">{{reminders.dateOfReminder | date}}</div>
                        </div>

                    </div>

                </div>
                <div class="text-right  view mt-2" ui-sref='notification'>View All
                    <span class="pl-2 ">
                        <i class="fas fa-caret-right "></i>
                    </span>
                </div>
            </div>
        </div>

        <div class="col col-md-9 " ng-init="modelNo=false ">
            <div class="background-blue border-rounded p-5">
                <div class="media">
                    <div class="img-div ">
                        <img src="img/iphone.jpeg " class="img-fluid large-img ">
                        <div class="d-flex align-items-center justify-content-center small-img ">
                            <img src="img/ticketCreation/mobile.png " width="10 ">
                        </div>
                    </div>
                    <div class="media-body pl-4 text-white ">
                        <h5 class="mt-0 fontRobotoMedium font20 position-relative" ng-click="modelNo=! modelNo">Support ID: {{ticketDetails.ticketNumber}}
                            <div class="position-absolute clock">
                                <i class="far fa-clock"></i>
                                </i>{{ticketDetails.issueReported | date}}</div>
                            <div>
                                <span class="float-right orange-color ">
                                    <span ng-show="modelNo">
                                        <i class="fas fa-angle-up"></i>
                                    </span>
                                    <span ng-show="!modelNo">
                                        <i class="fas fa-angle-down"></i>
                                    </span>
                                </span>
                            </div>
                        </h5>
                        <span class="fontRobotoBold font14 ">PRODUCT INFORMATION</span>
                        <p class="fontRobotoRegular font20 m-0">{{ticketDetails.product.productName}}
                            <span class="pl-2 fontRobotoLight "> ({{ticketDetails.product.brand.name}})</span>
                        </p>
                        <div class="row fontRobotoRegular font14 info-div mt-1" ng-show="modelNo ">
                            <div class="col col-md-6 ">
                                <p class="d-flex align-items-top ">
                                    <span class="d-inline-block w-40 ">Model Number : </span>
                                    <span class="d-inline-block w-60 ">{{ticketDetails.product.modelNo}}</span>
                                </p>
                                <p class="d-flex align-items-top ">
                                    <span class="d-inline-block w-40 ">Purchase Price : </span>
                                    <span class="d-inline-block w-60 "> {{ticketDetails.product.purchasePrice}}</span>
                                </p>
                                <p class="d-flex align-items-top ">
                                    <span class="d-inline-block w-40 ">Store : </span>
                                    <span class="d-inline-block w-60 ">{{ticketDetails.product.purchasePrice}}</span>
                                </p>
                                <!-- <p class="d-flex align-items-top ">
                                    <span class="d-inline-block w-40 ">Attached Files : </span>
                                    <span class="d-inline-block w-60 ">
                                        <span class="d-inline-block img-uploaded "></span>
                                        <span class="d-inline-block img-uploaded "></span>
                                        <span class="d-inline-block img-uploaded "></span>
                                        <span class="d-inline-block img-uploaded "></span>
                                    </span>
                                </p> -->
                            </div>
                            <div class="col col-md-6 ">
                                <p class="d-flex align-items-top ">
                                    <span class="d-inline-block w-40 ">Serial Number : </span>
                                    <span class="d-inline-block w-60 ">{{ticketDetails.product.serialNo}}</span>
                                </p>
                                <p class="d-flex align-items-top ">
                                    <span class="d-inline-block w-40 ">Purchase Date : </span>
                                    <span class="d-inline-block w-60 "> {{ticketDetails.product.purchaseDate}}</span>
                                </p>
                                <p class="d-flex align-items-top ">
                                    <span class="d-inline-block w-40 ">Warranty : </span>
                                    <span class="d-inline-block w-60 green-color "> {{ticketDetails.product.warrantyExpDate}}</span>
                                </p>
                                <p class="d-flex align-items-top ">
                                    <span class="d-inline-block w-40 ">Relation : </span>
                                    <span class="d-inline-block w-60 " ng-repeat="relatives in ticketDetails.product.user.relations">
                                        <span class="d-inline-block bg-white blue-color border-rounded px-2 mb-2 mr-2 ">{{relatives.relationType}}
                                            <!-- <i class="fas fa-times "></i> -->
                                        </span>
                                        <!-- <span class="d-inline-block bg-white blue-color border-rounded px-2 mb-2 mr-3 ">Mother
                                            <i class="fas fa-times "></i>
                                        </span> -->
                                        <!-- <button class="border-rounded background-orange border-0 text-white " ng-click="newUserModalOpen();">Add New User
                                            <i class="fas fa-plus "></i>
                                        </button> -->
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="support-chat-history">
                <h6 class="fontRobotoBold blue-color my-4">SUPPORT CHAT HISTORY</h6>
                <uib-accordion close-others="true">
                    <div uib-accordion-group class="panel-default" is-open="status1.open">
                        <uib-accordion-heading>
                            <div class="d-flex align-items-center ">
                                <div class="blue-circle "></div>
                                <h6 class="fontRobotoBold font14 ml-2 mb-0 ">{{ticketDetails.product.productName}}</h6>
                                <!-- <span class="font12 font-color ml-2 d-inline-block w-50 text-truncate ">Dear Support Team, Maecenas faucibus mollis interdum. Etiam porta sem malesuada...</span> -->
                                <div class="ml-auto date-supportchat ">
                                    <span class="font12 ">{{ticketDetails.closureDate | date}}</span>
                                </div>
                            </div>
                            <div class="up-arrow" ng-class="{'rotate-180':status1.open==true}">
                                <i class="fas fa-sort-down"></i>
                            </div>
                        </uib-accordion-heading>
                        <div class="pt-0 px-4 pb-4 ">
                            <h6 class="pb-3 pt-2 fontRobotoBold blue-color space-letter support-chat ">SUPPORT CHAT</h6>
                            <div class="chat my-2 ">
                                <!-- <div class="d-flex align-items-center mb-2 you ">
                                    <div class="img-fluid image ">
                                        <img src="img/ticketCreation/profile.jpeg ">
                                    </div>
                                    <div class="ml-2 px-3 py-1 chat-content ">{{chat.comment}}</div>
                                </div>
                                <div class="text-center gray-color font14 mt-3 ">{{chat.date | date}}</div> -->
                                <div class="d-flex align-items-center mb-2 flex-row-reverse me " ng-repeat="chat in ticketDetails.customerChat">
                                    <div class="img-fluid image ">
                                        <img src="img/ticketCreation/profile.jpeg ">
                                    </div>
                                    <div class="mr-2 px-3 py-1 chat-content ">{{chat.comment}}</div>
                                </div>
                                <div class="text-center gray-color font14 mt-3 ">{{chat.date | date}}</div>
                                <!-- <div class="d-flex align-items-center mb-2 you ">
                                    <div class="img-fluid image ">
                                        <img src="img/ticketCreation/profile.jpeg ">
                                    </div>
                                    <div class="ml-2 px-3 py-1 chat-content ">Thank you for Contact BOSE Support, How may I help you Today?</div>
                                </div> -->
                            </div>
                        </div>
                    </div>
                </uib-accordion>
            </div>
            <div class="bg-white border-rounded p-3 pumpkin-support-feedback">
                <form>
                    <h6 class="fontRobotoBold blue-color pump-support-text ">Pumpkiin Support</h6>
                    <div class="fontRobotoRegular font12 font-color ">Dear
                        <br> Maecenas faucibus mollis interdum. Etiam porta sem malesuada magna mollis euismod. Nullam quis risus
                        eget urna mollis ornare vel eu leo. Nulla vitae elit libero, a pharetra augue. Cras justo odio, dapibus
                        ac facilisis in, egestas eget quam.
                        <br>
                        <br> Thanks you,
                        <br> Pumpkiin Support
                    </div>
                    <br>
                    <h6 class="fontRobotoBold blue-color ">FEEDBACK</h6>
                    <br>
                    <div class="font14 font-color mb-2 ">How would you rate your experience on scale of 1 to 5 stars based on the following parameters?</div>
                    <div class="d-flex font14 fontRobotoRegular font-color my-2 ">
                        <div class="mr-3 ">
                            <span class="mr-2">Ease </span>
                            <span uib-rating ng-model="rate" max="max " read-only="isReadonly " on-hover="hoveringOver(value) " on-leave="overStar=null "
                                titles="[ 'one',
                            'two', 'three'] " aria-labelledby="default-rating "></span>
                        </div>
                        <div class="mr-3 ">
                            <span class="mr-2 ">Interaction </span>
                            <span uib-rating ng-model="rate" max="max " read-only="isReadonly " on-hover="hoveringOver(value) " on-leave="overStar=null "
                                titles="[ 'one','two', 'three'] " aria-labelledby="default-rating "></span>
                        </div>
                        <div class="mr-3 ">
                            <span class="mr-2 ">Resolution </span>
                            <span uib-rating ng-model="rate" max="max " read-only="isReadonly " on-hover="hoveringOver(value) " on-leave="overStar=null "
                                titles="[ 'one','two', 'three'] " aria-labelledby="default-rating "></span>
                        </div>
                    </div>
                    <div class="font14 font-color my-2 ">Describe your experience with us</div>
                    <textarea rows="5 " name="feedback " class="form-control "></textarea>
                    <button class="mt-3 send-btn ">
                        <span class="close-icon ">
                            <i class="fas fa-times "></i>
                        </span>Send</button>
                </form>
            </div>
            <a role="button" class="button mt-4 w-25 py-1 float-right fontRobotoBold text-center orange-btn" ui-sref="ticketcreation">Support</a>
        </div>
    </div>
</div>