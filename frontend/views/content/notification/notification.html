<div class="container py-md-5 pb-0" ng-controller="headerCtrl">
    <div class="row ticket-creation-main">
        <div class="col col-md-3 openticketreminder">
            <div class="bg-white border-rounded p-3">
                <div class="d-flex justify-content-between">
                    <div class="closed-text cursor-point" ng-click="pendingReminders()">
                        <img src="img/header/Notification_circle-icon-orange.png">
                        <div class="notification notification-orange" ng-if="totalPendingReminders">{{totalPendingReminders}}</div>
                        <div class="notification notification-orange" ng-if="!totalPendingReminders">0</div>
                    </div>
                    <div class="closed-text cursor-point" ng-click="completedReminders()">
                        <img src="img/ticketCreation/Notification_circle-icon-green.png">
                        <div class="notification" ng-if="totalCompletedReminder">{{totalCompletedReminder}}</div>
                        <div class="notification" ng-if="!totalCompletedReminder">0</div>
                    </div>
                    <div class="cursor-point" ng-click="reminderModalOpen()">
                        <img src="img/ticketCreation/addButton.png ">
                    </div>
                </div>
                <div class="my-3 open-tickets">
                    <h5 class="d-inline ">Reminders</h5>
                    <span class="badge badge-style ml-auto">{{totalReminders}}</span>
                    <div class="float-right custom-searchbar">
                        <form action="" autocomplete="on" class="position-relative">
                            <input id="search" name="search" type="text" placeholder="">
                            <input id="search_submit" value="Rechercher" type="submit">
                        </form>
                    </div>
                </div>
                <div class="border-top listed-openTickets openticket ">
                    <div class="d-flex py-1 element-list " ng-repeat="reminders in showLessReminders">
                        <div class="bullet "></div>
                        <div class="d-block pl-4 ">
                            <div class="product-title text-truncate">{{reminders.title}}</div>
                            <div class="date ">{{reminders.dateOfReminder | date}}</div>
                        </div>
                    </div>
                </div>
                <!-- <div class="text-right  view mt-2" ui-sref='notification'>View All
                    <span class="pl-2 ">
                        <i class="fas fa-caret-right "></i>
                    </span>
                </div> -->
            </div>
            <div class="bg-white border-rounded p-3 mt-2 d-none d-md-block">
                <div class="d-flex justify-content-between">
                    <div class="closed-text cursor-point" ng-click="getOpenTickets()">
                        <img src="img/ticketCreation/openTicket.png">
                        <div class="notification notification-orange" ng-if="!totalNumberOfOpenTickets">0</div>
                        <div class="notification notification-orange" ng-if="totalNumberOfOpenTickets">{{totalNumberOfOpenTickets}}</div>
                    </div>
                    <div class="closed-text cursor-point" ng-click="getClosedTickets()" ng-if="totalNumberOfClosedTickets">
                        <img src="img/ticketCreation/closedTicket.png">
                        <div class="notification" ng-if="!totalNumberOfClosedTickets">0</div>
                        <div class="notification" ng-if="totalNumberOfClosedTickets">{{totalNumberOfClosedTickets}}</div>
                    </div>
                    <div class="closed-text cursor-point" ng-if="!totalNumberOfClosedTickets">
                        <img src="img/ticketCreation/closedTicket.png">
                        <div class="notification" ng-if="!totalNumberOfClosedTickets">0</div>
                        <div class="notification" ng-if="totalNumberOfClosedTickets">{{totalNumberOfClosedTickets}}</div>
                    </div>
                    <div class="cursor-point" ui-sref="ticketcreation">
                        <img src="img/ticketCreation/addButton.png ">
                    </div>
                </div>
                <div class="my-3 open-tickets">
                    <h5 class="d-inline" ng-if="ticketDetails[0].status!='Closed'">Open Tickets</h5>
                    <h5 class="d-inline" ng-if="ticketDetails[0].status=='Closed'">Closed Tickets</h5>
                    <!-- <h5 class="d-inline" ng-show="!show">Open Tickets</h5>
                        <h5 class="d-inline" ng-show="show">closed Tickets</h5> -->
                    <span class="badge badge-style ">{{totalNumberOfTickets}}</span>
                    <div class="float-right custom-searchbar">
                        <form action="" autocomplete="on" class="position-relative">
                            <input id="search" name="search" type="text" placeholder="">
                            <input id="search_submit" value="Rechercher" type="submit">
                        </form>
                    </div>
                </div>
                <div class="border-top listed-openTickets openticket">
                    <div class="d-flex py-1 element-list " ng-repeat="tickets in ticketDetails">
                        <div class="bullet "></div>
                        <div class="d-block pl-4">
                            <div class="product-title text-truncate">{{tickets.product.productName}}</div>
                            <div class="date ">{{tickets.issueReported | date}}</div>
                        </div>
                        <!-- <span class="float-right caret-style ">
                                <i class="fas fa-ellipsis-v"></i>
                                
                            </span> -->
                    </div>
                </div>
                <div class="text-right  view mt-2" ng-if="ticketDetails.length==5 && ticketDetails[0].status=='Active'" ui-sref='ticketopen-notification'>View All
                    <span class="pl-2 ">
                        <i class="fas fa-caret-right "></i>
                    </span>
                </div>
                <div class="text-right  view mt-2" ng-if="ticketDetails.length==1 && ticketDetails[0].status=='Closed'" ui-sref='ticketclose-notification'>View All
                    <span class="pl-2 ">
                        <i class="fas fa-caret-right "></i>
                    </span>
                </div>
            </div>
        </div>

        <div class="col col-md-9 d-none d-md-block" ng-init="modelNo=false">
            <div class="support-chat-history">
                <div class="d-flex">
                    <h6 class="fontRobotoBold blue-color mb-4 text-uppercase">Reminders</h6>
                    <div class="ml-auto">
                        <a role="button" class="button  px-3 py-1 fontRobotoBold text-center snooze-color" ng-click="reminderModalOpen(reminders._id);">Snooze / Edit</a>
                        <a role="button" class="button  px-3 py-1 fontRobotoBold text-center completed-color" ng-click="chnageStatus(reminders._id);">Completed</a>
                        <a role="button" class="button  px-3 py-1 fontRobotoBold text-center delete-btn" ng-click="deleteReminder(reminders._id);">Delete</a>
                    </div>
                </div>
                <uib-accordion close-others="true">
                    <div uib-accordion-group class="panel-default reminder-body" is-open="status1.open" is-disabled="disabled" ng-repeat="reminders in showLessReminders">
                        <uib-accordion-heading>
                            <div class="d-flex align-items-center">
                                <div ng-click="checkCircle(reminders._id)" class="blue-circle p-1"><i class="fas fa-check text-white"></i></div>
                                <h6 class="fontRobotoBold font14 ml-2 mb-0 text-uppercase">{{reminders.title}}</h6>
                                <span class="font12 font-color ml-2 d-inline-block w-40 text-truncate" ng-if="!status1.open">{{reminders.description}}</span>
                                <div class="ml-auto date-supportchat ">
                                    <span class="font12 ">{{reminders.dateOfReminder | date}}</span>
                                </div>
                            </div>
                            <div class="up-arrow" ng-class="{'rotate-180':status1.open==true}">
                                <i class="fas fa-sort-down"></i>
                            </div>
                        </uib-accordion-heading>
                        <div class="pt-0 px-4 pb-4">
                            <p>{{reminders.description}}</p>
                            <div class="text-right">
                                <a role="button" class="button  px-3 py-1 mx-2  fontRobotoBold text-center snooze-color" ng-click="reminderModalOpen(reminders._id);"
                                    ng-if="reminders.status=='Pending' || reminders.status=='Snooze'">Snooze / Edit
                                </a>
                                <a role="button" class="button  px-3 py-1 mx-2  fontRobotoBold text-center completed-color" ng-click="chnageStatus(reminders._id);"
                                    ng-if="reminders.status=='Pending' || reminders.status=='Snooze'">Completed
                                </a>
                                <a role="button" class="button  px-3 py-1 mx-2  fontRobotoBold text-center delete-btn" ng-click="deleteReminder(reminders._id);">Delete
                                </a>
                            </div>
                        </div>
                    </div>
                </uib-accordion>
            </div>
            <div class="float-right">
                <nav aria-label="..." ng-if="(allReminders.length / maxRow) >1">
                    <ul ng-change="changePage(currentPage); " uib-pagination total-items="allReminders.length" items-per-page="maxRow" ng-model="currentPage"
                        max-size="10" class="pagination-sm" boundary-links="true" force-ellipses="true"></ul>
                </nav>
            </div>
            <a role="button" class="button w-25 py-1 float-right fontRobotoBold text-center orange-btn" ng-click="reminderModalOpen()"
                ng-if="reminders.status=='Pending' || reminders.status=='Snooze'">Add Reminder
            </a>
        </div>
    </div>
</div>